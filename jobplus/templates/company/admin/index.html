{% extends 'base.html' %}

{% block title %}管理 - Jobplus{% endblock %}

{% block body %}
<br>
<div class="container">
    <div class="row" id="side-navbar">
        <div class="col-md-2 col-sm-2">
            <img src="{{ current_user.company_info.get_img('logo') }}" class="img-thumbnail img-circle center-block company-admin">
            <h3 class="text-center">{{ current_user.username }}</h3>
            <HR style="FILTER: alpha(opacity=100,finishopacity=0,style=3)" width="100%" color=#987cb9 SIZE=3>
            <ul id="accordion" class="accordion nav nav-pills nav-stacked">
                <li>
                    <div class="link"><i class="glyphicon glyphicon-th-list"></i><span>职位管理</span><i class="glyphicon glyphicon-triangle-bottom"></i></div>
                    <div class="submenu">
                        <span><a href="#">所有职位</a></span>
                        <span><a href="#">在招职位</a></span>
                        <span><a href="#">已下线职位</a></span>
                    </div>
                </li>
                <li><div class="link"><i class="glyphicon glyphicon-file"></i><span>简历管理</span><i class="glyphicon glyphicon-triangle-bottom"></i></div>
                    <div class="submenu">
                        <span><a href="#">未处理</a></span>
                        <span><a href="#">不合适</a></span>
                        <span><a href="#">邀请面试</a></span>
                    </div>
                </li>
            </ul>
            {% block operation %}{% endblock %}
        </div>
        <table border="1px" cellpadding="0" cellspacing="0" style="height:265px;border-left-style:solid; border-bottom-style:none;border-right-style:none;border-top-style:none"></table>
        <div class="col-md-9 col-sm-9">
            {% block admin %}{% endblock %}
        </div>
    </div>
</div>
{% endblock %}

{% block tail_js %}
{{ super() }}
<script type="text/javascript">
    $(function() {
	var Accordion = function(el, multiple) {
		this.el = el || {};
		this.multiple = multiple || false;

		// Variables privadas
		var links = this.el.find('.link');
		// Evento
		links.on('click', {el: this.el, multiple: this.multiple}, this.dropdown)
	}

	Accordion.prototype.dropdown = function(e) {
		var $el = e.data.el;
			$this = $(this),
			$next = $this.next();

		$next.slideToggle();
		$this.parent().toggleClass('open');

		if (!e.data.multiple) {
			$el.find('.submenu').not($next).slideUp().parent().removeClass('open');
		};
	}	

	var accordion = new Accordion($('#accordion'), false);
});
</script>
{% endblock %}